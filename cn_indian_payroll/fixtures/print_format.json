[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".m1\n{\n    font-size: 20px;\n    font-family: serif;\n}\n\n.m2\n{\n    font-size: 14px;\n    font-family: serif;\n    \n}\n\n\n\n.f1\n{\n    font-size: 14px;font-family: serif;\n}\n\n.f2\n{\n    border:none;\n    font-size: 16px;\n    font-family: serif;\n}\n\ntable, th, td {\n            border: 1px solid black;\n            border-collapse: collapse;\n        }\n\n        tr.row1 td {\n            border-bottom: none; \n        }",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!DOCTYPE html>\n<html>\n<head>\n    \n</head>\n<body>\n    \n\n\n    \n    <p class=\"m1\"><b>Meril Life Sciences Private Limited Survey no. 135/139, Muktanand Marg, Chala, Vapi, Gujarat Vapi Gujarat 396191 India</b></p>\n\n<hr style=\"border-style: dotted; border-width: 1px; border-color: black;\">\n\n\n<p class=\"m1\">TDS WORK SHEET for the month of {{ frappe.utils.format_date(doc.posting_date, \"MMMM, YYYY\") }}  </p>\n\n\n\n<table class=\"f2\" style=\"width:100%\">\n  <tr>\n    <td class=\"f2\">Employee Name</td>\n    <td class=\"f2\">Pan</td>\n    <td class=\"f2\">Designation</td>\n    <td class=\"f2\">Tax Regime</td>\n  </tr>\n  \n  \n  {% set employee = frappe.get_doc(\"Employee\", doc.employee) %}\n       {% set tax_slab1 = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\", \"income_tax_slab\"], order_by=\"from_date desc\") %}\n                {% if tax_slab1 %}\n                   {% set employee_tax_slab = tax_slab1[0].income_tax_slab %}\n                    \n               {%endif%}\n  \n  \n  \n   <tr>\n    <td class=\"f2\">{{doc.employee_name}}</td>\n    <td class=\"f2\">{%if employee.pan_number%} {{employee.pan_number}} {%endif%}</td>\n    <td class=\"f2\">{%if employee.designation%} {{employee.designation}} {%endif%}</td>\n    <td class=\"f2\">{{employee_tax_slab}}</td>\n  </tr>\n  \n  \n  \n  \n  \n</table>\n\n\n\n\n\n<hr style=\"border-style: dotted; border-width: 1px; border-color: black;\">\n\n\n    <p style=\"font-size: 16px;font-family: serif;\">Details of salary paid and any other income tax and tax deducted</p>\n\n<table style=\"width:100%\">\n  <tr class=\"row2\">\n    <th class=\"m2\">Particulars</th>\n    <th class=\"m2\">Actual</th> \n    <th class=\"m2\">Projection</th>\n    <th class=\"m2\">Total</th>\n  </tr>\n  \n  \n  \n \n\n<tr>\n\n  \n  \n<td >\n    <b class=\"m2\">1)Gross Earnings</b></br></br>\n    \n    {%- for row in doc.earnings -%}\n    \n    \n     {% set perquisite = frappe.get_doc(\"Salary Component\", row.salary_component) %}\n     \n     {% if perquisite.custom_perquisite==0 and perquisite.custom_is_accrual==0%}\n\n            <p class=\"m2\">{{ row.salary_component }}</p>\n            \n        {%endif%}\n    \n    {%- endfor -%}\n    \n    \n    \n    {% set ss_slip = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"*\"], order_by=\"from_date desc\") %}\n               \n               {% if ss_slip[0].custom__car_perquisite==1 and ss_slip[0].custom_driver_provided_by_company==1%}\n               \n               \n               \n                <p style=\"font-size: 14px; font-family: serif;\">Total Perquisite Amount </p>\n            {% endif %}\n            \n            \n    \n    \n    \n \n </br></br>\n \n <p class=\"m2\"><b>Total Income</b></p>\n\n\n</td>\n\n<td >\n    \n    \n</br></br>\n\n    {%- for row in doc.earnings -%}\n    \n    {% set perquisite = frappe.get_doc(\"Salary Component\", row.salary_component) %}\n     \n    {% if perquisite.custom_perquisite==0 and perquisite.custom_is_accrual==0%}\n    \n    \n    \n        <p class=\"m2\">Rs.{{ row.amount }}</p>\n        \n        {%endif%}\n        \n        \n        \n        \n        \n        \n    {%- endfor -%}\n    \n    \n     {% set ss_slip = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"*\"], order_by=\"from_date desc\") %}\n               \n               {% if ss_slip[0].custom__car_perquisite==1 and ss_slip[0].custom_driver_provided_by_company==1%}\n               \n               \n                {% set per_total = ss_slip[0].custom_car_perquisite_as_per_rules + ss_slip[0].custom_driver_perquisite_as_per_rules %}\n                 <p class=\"m2\"> Rs.{{ per_total*12 }}</p>\n            {% endif %}\n    \n   \n    \n   \n    \n\n\n    \n\n\n\n</td>\n\n<td ></br></br>\n\n    {%- for row in doc.earnings -%}\n    \n     {% set perquisite = frappe.get_doc(\"Salary Component\", row.salary_component) %}\n     \n     {% if perquisite.custom_perquisite==0 and perquisite.custom_is_accrual==0%}\n     \n     \n     \n     \n    \n    \n\n    <p class=\"m2\">Rs.{{(row.amount *12)-(row.amount)}}</p>\n    \n    {%endif%}\n {%- endfor -%}\n \n \n\n\n</td>\n<td ></br></br>\n\n{% set array = [] %}\n    {%- for row in doc.earnings -%}\n    \n    \n     {% set perquisite = frappe.get_doc(\"Salary Component\", row.salary_component) %}\n     \n    {% if perquisite.custom_perquisite==0 and perquisite.custom_is_accrual==0%}\n    \n    \n\n    <p class=\"m2\">Rs.{{ row.amount *12}}</p>\n    {% set _ = array.append(row.amount*12) %}\n    \n    {%endif%}\n     \n {%- endfor -%}\n \n \n     \n     {% set ss_slip = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"*\"], order_by=\"from_date desc\") %}\n               \n               {% if ss_slip[0].custom__car_perquisite==1 and ss_slip[0].custom_driver_provided_by_company==1%}\n               \n               \n                {% set per_total = ss_slip[0].custom_car_perquisite_as_per_rules + ss_slip[0].custom_driver_perquisite_as_per_rules %}\n                 <p class=\"m2\"> Rs.{{ per_total*12 }}</p>\n                 {% set _ = array.append(per_total*12) %}\n    {% endif %}\n \n \n \n \n \n \n \n \n \n \n {% set total = array | sum %}\n </br></br>\n \n \n        \n        \n     <p class=\"m2\"><b>Rs.{{total}}</b></p>\n     \n       \n\n</td>\n\n\n</tr>\n\n\n<tr>\n\n  \n  \n<td >\n    <b class=\"m2\">2)Allowance to the extent exempt under section 10</b></br></br>\n    \n    \n    \n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        {% for i in section.declarations %}\n            \n             {% if i.exemption_category in [\"Section 10(13A)\", \"Section 10(14)\"] %}\n                <p class=\"m2\">{{ i.exemption_sub_category }}</p>\n            {% endif %}\n        {% endfor %}\n    {% endif %}\n \n </br></br>\n \n <p><b class=\"m2\"> Total of Allowance to the extent exempt under section 10</b></p>\n \n </td>\n\n\n<td>\n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n    </br></br>\n        {% set section = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        {% set array1 = [] %}\n        {% for i in section.declarations %}\n             {% if i.exemption_category in [\"Section 10(13A)\", \"Section 10(14)\"] %}\n            \n            \n                <p class=\"m2\">Rs.{{ i.amount }}</p>\n                 {% set _ = array1.append(i.amount) %}\n            {% endif %}\n        {% endfor %}\n        \n         {% set tax_total = array1 | sum %}\n         \n    {%else%}\n    \n    <p class=\"m2\">Rs.0</p>\n     {% set tax_total = 0 %}\n        \n    {% endif %}\n\n\n\n\n \n\n\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    \n    \n    \n    {%if tax_total%}\n    \n   </br></br></br></br></br></br></br> <p class=\"m2\"><b>Rs.{{tax_total}}</b></p>\n    {%else%}\n    </br></br></br></br><p class=\"m2\"><b>Rs.0</b></p>\n    {%endif%}\n</td>\n\n\n\n</tr>\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">3) Total After Exemption (1-2)</b></p>\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    {%if total or tax_total%}\n   \n    \n    <p><b class=\"m2\">Rs.{{ total - tax_total }}</b></p>\n    \n    {% else %}\n    <p><b class=\"m2\">Rs.0</b></p>\n    \n    {%endif%}\n\n    \n    \n</td>\n    \n</tr>\n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">4) Taxable income under previous employment</b></p></br></br>\n   <p class=\"m2\">1. Income after exemption</p>\n   <p class=\"m2\">2. Less:Professional Tax</p>\n   \n   </br></br>\n   \n   <p><b class=\"m2\">Total taxable income under previous employment</b></p>\n</td>\n\n<td></br></br>\n    &nbsp;\n   <p class=\"m2\">Rs.0</p> \n   <p class=\"m2\">Rs.0</p>\n</td>\n\n<td></br></br>\n    &nbsp;\n    <p class=\"m2\">Rs.0</p>\n    <p class=\"m2\">Rs.0</p>\n   \n</td>\n\n<td></br></br></br></br></br></br></br></br>\n<p class=\"m2\"><b>Rs.0</b></p>   \n</td>\n    \n</tr>\n\n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">5) Gross Total (3+4)</b></p>\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    &nbsp;\n</td>\n<td>\n    \n     {%if total or tax_total%}\n     \n    <p><b class=\"m2\">Rs.{{ total - tax_total}}</b></p>\n    \n    {%else%}\n    <p class=\"m2\">Rs.0</p>\n    \n    {%endif%}\n    \n</td>\n    \n</tr>\n\n\n\n\n<tr>\n    <td>\n        <p><b style=\"font-size: 14px;font-family: serif;\">6) Under Section 16</b></p></br>\n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        {% for i in section.declarations %}\n            {% if i.exemption_category == \"Section 16\" %}\n                <p class=\"m2\"> {{ i.exemption_sub_category }}</p>\n            {% endif %}\n        {% endfor %}\n        \n        \n    \n    {% endif %}\n    \n    <p class=\"m2\">Standard Deduction</p>\n    \n    </br></br>\n    <p><b class=\"m2\"> Total Under Section 16</b></p>\n    \n    </td>\n    \n    <td></br></br>\n        {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        {% set array2=[]%}\n        \n        {% for i in section.declarations %}\n            {% if i.exemption_category == \"Section 16\" %}\n                <p class=\"m2\"> Rs.{{ i.amount }}</p>\n                {% set _ = array2.append(i.amount) %}\n            {% endif %}\n        {% endfor %}\n        \n        \n    {%else%}\n    \n    <!--<p class=\"m2\">Rs.0</p>-->\n    \n    {% set form_16 = 0 %}\n        \n    {% endif %}\n    \n    <p class=\"m2\">Rs.50000</p>\n    {%if array2%}\n    \n    {% set _ = array2.append(50000) %}\n     {% set form_16 = array2 | sum %}\n     \n     {%else%}\n     \n     {% set form_16 =50000 %}\n     \n     \n       {% endif %}\n    \n    \n</td>\n\n<td>\n    &nbsp;\n</td>\n<td></br></br></br></br></br></br>\n{%if form_16%}\n       <p><b class=\"m2\">Rs.{{form_16}} </b></p>   \n{%endif%}\n</td>\n    \n\n</tr>\n\n\n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">7) Income chargeble under Head Salaries (5-6)</b></p>\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    &nbsp;\n</td>\n<td>\n         {%if total or tax_total or form_16 %} \n         \n         <p class=\"m2\"><b>Rs.{{ total-tax_total-form_16}}</b></p>\n         \n         {%else%}\n         <p class=\"m2\"><b>Rs.0</b></p>\n         \n         {%endif%}\n</td>\n    \n</tr>\n\n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">8) Any Other income reported by employee</b></p>\n   </br>\n   <p class=\"f1\">Interest Paid on Home Loan</p>\n   <p class=\"f1\">Let Out Property</p></br>\n   \n   <p><b class=\"f1\">Total Income From Other Sources</b></p>\n   <p style=\"font-size: 10px;font-family: serif;\">Note: A maximum of Rs.200,000.00 is allowed as exemption\nfor housing loan interests on Self Occupied House Property\nand Let Out Property.</p>\n</td>\n\n<td></br></br>\n\n {% set c_array11 = [] %}\n{% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section1 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        \n        \n        {% for i in section1.declarations %}\n            {% if i.exemption_category == \"Section 80EE\" %}\n            <p class=\"m2\">Rs.-{{i.amount}}</p> \n           \n            {% set _ = c_array11.append(i.amount) %}\n           \n            \n            {% endif %}\n        {% endfor %}\n        \n         \n        {% set c_array11 = c_array11 | sum %}\n        \n        \n        {%else%}\n        <p class=\"m2\">Rs.0</p>\n        {% set c_array11 = 0 %}\n    {%endif%}\n \n    \n    <!--<p>value</p>-->\n    <p class=\"m2\">Rs.0</p></br>\n    \n    \n    \n</td>\n\n<td>\n    &nbsp;\n</td>\n<td></br></br></br></br></br></br></br>\n\n{%if c_array11 %}\n<p class=\"m2\"><b>Rs.-{{c_array11}}</b></p> \n{%else%}\n<p class=\"m2\"><b>Rs.0</b></p>\n{%endif%}\n</td>\n    \n</tr>\n\n\n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">9) Gross Total Income (7+8)</b></p>\n</td>\n\n<td>\n    &nbsp;\n</td>\n\n<td>\n    &nbsp;\n</td>\n<td>\n    \n     {%if total or tax_total or form_16 or c_array11%} \n         \n         <p class=\"m2\"><b>Rs.{{ total-tax_total-form_16-c_array11}}</b></p>\n         {% set t1= total-tax_total-form_16-c_array11%}\n         \n         {%else%}\n         <p class=\"m2\"><b>Rs.0</b></p>\n         \n         {%endif%}\n    \n   \n\n</td>\n    \n</tr>\n\n\n\n<tr>\n\n <td>\n   <p><b class=\"m2\">10) Deduction under chapter VI-A</b></p></br>\n   \n       <p class=\"f1\"><b>80C</b></p>\n       \n       {% set c_array1 = [] %}\n\n   {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section1 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        \n        {% for i in section1.declarations %}\n            {% if i.exemption_category == \"Section 80C\" %}\n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp; &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                \n                {% set _ = c_array1.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n        {% set c_array11 = c_array1 | sum %}\n       \n        \n    {% endif %}\n    \n    </br>\n    \n    <p class=\"f1\"><b>80CCC</b></p>\n    \n     {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section2 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n        {% set c_array2 = [] %}\n        \n        {% for i in section2.declarations %}\n            {% if i.exemption_category == \"Section 80CCC\" %}\n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp; &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                {% set _ = c_array2.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n         {% set c_array22 = c_array2 | sum %}\n       \n        \n    {% endif %}\n    \n    \n    \n    <p class=\"f1\"><b>80CCD</b></p>\n    \n     {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section3 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n          {% set c_array3 = [] %}   \n          \n        {% for i in section3.declarations %}\n            {% if i.exemption_category == \"Section 80CCD\" %}\n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp; &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                {% set _ = c_array3.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n       {% set c_array33 = c_array3 | sum %}\n        \n    {% endif %}\n    </br>\n    \n    <p class=\"f1\"><b>Total (80C+80CCC+80CCD)</b> </p>\n    \n    </br>\n    \n    <p class=\"f1\"><b>80CCD(1B)</b></p>\n    \n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section4 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n          {% set c_array4 = [] %}   \n          \n        {% for i in section4.declarations %}\n            {% if i.exemption_category == \"Section 80CCD(1B)\" %}\n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp; &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                {% set _ = c_array4.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n       {% set c_array44 = c_array4 | sum %}\n        \n    {% endif %}\n    </br>\n    \n    <p class=\"f1\"><b>Total</b></p></br></br>\n    \n    \n    \n    \n    \n    \n    \n     <p class=\"f1\"><b>80CCD(2)</b></p>\n    \n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section5 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n          {% set c_array5 = [] %}   \n          \n        {% for i in section5.declarations %}\n            {% if i.exemption_category == \"Section 80CCD(2)\" %}\n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp; &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                {% set _ = c_array5.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n       {% set c_array55 = c_array5 | sum %}\n        \n    {% endif %}\n    </br>\n    \n    <p class=\"f1\"><b>Total</b></p></br></br>\n    \n    \n    \n    \n  \n    <p class=\"f1\"><b>80D</b></p>\n    \n   \n    {% set tax_exemption = frappe.get_list(\"Employee Tax Exemption Declaration\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\"]) %}\n   \n    {% if tax_exemption %}\n        {% set section6 = frappe.get_doc(\"Employee Tax Exemption Declaration\", tax_exemption[0].name) %}\n        \n          {% set c_array6 = [] %}   \n          \n        {% for i in section6.declarations %}\n            {% if i.exemption_category == \"Section 80D\" %}\n            \n            <p class=\"m2\">\n                * {{ i.exemption_sub_category }} &nbsp; &nbsp;\n                <span style=\"float: right;\">- Rs.{{ i.amount }}</span>\n                {% set _ = c_array6.append(i.amount) %}\n            </p>\n                \n            {% endif %}\n        {% endfor %}\n        \n     \n        \n       {% set c_array66 = c_array6 | sum %}\n        \n    {% endif %}\n    </br></br>\n    \n    \n    <p class=\"f1\"><b>Total</b></p>\n   \n    \n    </br></br>\n    \n    <p class=\"f1\"><b>Total of Deductions under Chapter VI-A</b></p>\n    \n    \n    \n    \n   \n   \n   \n   \n</td>\n\n<td>\n    \n    <p class=\"m2\">Qualifying</p></br></br></br></br></br></br></br></br></br></br></br>\n    \n    {% if c_array11 or c_array22 or c_array33 %}\n    {% set a1 = [] %} \n    \n    {% if c_array11 > 150000 %}\n        <p class=\"f1\">Rs.150000</p>\n        <br><br><br><br><br>\n        {% set v1 = 150000 %}\n    {% else %}\n        <p class=\"f1\">Rs.{{ c_array11 + c_array22 + c_array33 }}</p>\n        <br><br><br><br><br>\n        {% set v1 = c_array11 + c_array22 + c_array33 %}\n    {% endif %}\n    \n    {% set _ = a1.append(v1) %}\n    \n    \n    \n{% endif %}\n\n    \n    {%if c_array4%}\n    \n            <p class=\"f1\">Rs.{{c_array44}}</p></br></br></br></br></br></br>\n              {% set _ = a1.append(c_array44) %}\n            \n            {%else%}\n              <p class=\"f1\">Rs.0</p></br></br></br></br></br></br>\n              \n              \n    \n    {%endif%}\n    \n    {%if c_array5 %}\n    \n          <p class=\"f1\">Rs.{{c_array55}}</p></p></br></br></br></br></br></p></br></br></br>\n           {% set _ = a1.append(c_array55) %}\n          \n          {%else%}\n          <p class=\"f1\">Rs.0</p></p></p></br></br></br></br></br>\n      \n    {%endif%}\n      \n      {%if c_array6%}\n      \n              <p class=\"f1\">Rs.{{c_array66}}</p>\n               {% set _ = a1.append(c_array66) %}\n              \n              {%else%}\n              <p class=\"f1\">Rs.0</p>\n              \n              \n            \n              \n      \n      {%endif%}\n      \n      \n    \n    &nbsp;\n    \n</td>\n\n\n\n<td>\n    \n    \n    <p class=\"m2\">Deductible</p></p></br></br></br></br></br></br></br></br></br></br></br>\n    \n    {%if c_array11 or c_array22 or c_array33%}\n    \n    \n    \n        {%if c_array11>150000%}\n        <p class=\"m2\">Rs.150000</p></br></br></br></br></br>\n      \n        \n        {%else%}\n    \n         <p class=\"f1\">Rs.{{c_array11+c_array22+c_array33}}</p></br></br></br></br></br>\n         {%endif%}\n    \n     {%endif%}\n     \n      {%if c_array44%}\n    \n            <p class=\"f1\">Rs.{{c_array44}}</p></p></br></br></br></br></br></br>\n            {%else%}\n              <p class=\"f1\">Rs.0</p></br></br></br></br></br></br>\n     {%endif%}\n     \n      {%if c_array55%}\n            <p class=\"f1\">Rs.{{c_array55}}</p></br></br></br></br></br></p></br></br></br>\n             {%else%}\n          <p class=\"f1\">Rs.0</p></br></br></br></br></br>\n     {%endif%}\n     \n      {%if c_array66%}\n        <p class=\"f1\">Rs.{{c_array66}}</p>\n         {%else%}\n          <p class=\"f1\">Rs.0</p>\n      {%endif%}\n    &nbsp;\n    \n</td>\n\n<td>\n    \n\n    {% set v2 = a1 | sum %}\n    \n    {%if v2==0%}\n    </br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br>\n\n        <p class=\"f1\"><b>Rs.0</b></p>\n    {%else%}\n    </br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br></br>\n\n    \n         <p class=\"f1\"><b>Rs. {{ v2 }}</b></p>\n         \n    {%endif%}\n    \n        \n    \n   \n</td>\n\n\n\n\n</tr>\n\n\n\n\n<tr>\n\n <td>\n   <p><b class=\"m2\">11) Total Taxble Value  (9-10)</b></p>\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n<td>\n    \n    <p class=\"f1\"><b>Rs.{{t1-v2}}</b></p>\n    {% set value1=t1-v2%}\n    \n   \n    \n      \n      \n      \n    \n    </td>\n        \n  </tr> \n  \n  \n  <tr>\n      <td>\n          <p class=\"m2\">12) Tax on total Income</p>\n          \n          \n          \n          {%set m1=[]%}\n           {%set m2=[]%}\n           {% set tax_slab = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\", \"income_tax_slab\"], order_by=\"from_date desc\") %}\n                {% if tax_slab %}\n               \n                    {% set employee_tax_slab = frappe.get_doc(\"Income Tax Slab\", tax_slab[0].income_tax_slab) %}\n                    \n                    \n                    {% for i in employee_tax_slab.slabs %}\n                    \n                        {%if value1<=i.to_amount and value1>i.from_amount  %}\n                        \n                        {%set h1=value1-i.from_amount%}\n                        \n                        \n                            {%set h2=(h1*i.percent_deduction)/100%}\n                            \n                           \n                            \n                        \n                            \n                            \n                             {% set _ = m1.append(h2) %}\n                             \n                             {%if employee_tax_slab.name==\"Old Regime\"%}\n                             \n                              \n                            \n                                    {%if i.percent_deduction==20%}\n                                    {% set _ = m1.append(12500) %}\n                                    {%endif%}\n                                    \n                                     \n                                    \n                                    {%if i.percent_deduction==30%}\n                                     {% set _ = m1.append(100000) %}\n                                     {% set _ = m1.append(12500) %}\n                                    {%endif%}\n                             \n                            \n                             \n                             {%endif%}\n                             \n                             \n                             \n                             {%if employee_tax_slab.name==\"New Regime\"%}\n                             \n                            \n                                    {%if i.percent_deduction==10%}\n                                    {% set _ = m1.append(15000) %}\n                                    {%endif%}\n                                    \n                                     \n                                    \n                                    {%if i.percent_deduction==15%}\n                                     {% set _ = m1.append(30000) %}\n                                     {% set _ = m1.append(15000) %}\n                                    {%endif%}\n                                    \n                                     {%if i.percent_deduction==20%}\n                                     {% set _ = m1.append(30000) %}\n                                     {% set _ = m1.append(15000) %}\n                                     {% set _ = m1.append(45000) %}\n                                    {%endif%}\n                             \n                             \n                             {%endif%}\n                             \n                             \n                             \n                            \n                            \n                            \n                            \n                            \n                        \n                        {%endif%}\n                        \n                        \n                        \n                    {% endfor %}\n                    \n                    {%if m1%}\n                    \n                  \n                    \n                    \n                    {% set h3 = m1 | sum %}\n                    \n                    \n                    \n                    {%endif%}\n                    \n                    \n\n                {% endif %}\n                \n                <p class=\"m2\">Less : Rebate Under Section 87A\nNote: If taxable income is less than Rs.500,000.00, tax rebate\nof a maximum of Rs.12,500.00 is provided under Section 87A.</p>\n          \n      </td>\n      <td>\n          \n      </td>\n      <td>\n          \n      </td>\n      \n      <td>\n          \n          \n          \n          {%if h3%}\n            {%if value1>500000%}\n          \n          \n                <p class=\"m2\"><b>Rs.{{h3}}</b></p>\n                \n                {%else%}\n                \n                \n                \n                <p class=\"m2\"> <b> Rs.0</b></p>\n                \n                {%endif%}\n          \n          {%endif%}\n                <p class=\"m2\"><b>Rs.0</b></p>\n          \n      </td>\n  </tr>\n           \n             \n             \n  \n\n\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">13) Total Tax on Income</b></p>\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n<td>\n    {%if h3%}\n    \n    {%if value1>500000%}\n    \n    \n        <p class=\"m2\"><b>Rs.{{h3}}</b></p>\n        {%else%}\n         <p class=\"m2\"><b>Rs.0</b></p>\n        {%endif%}\n    \n    {%else%}\n    <p class=\"m2\"><b>Rs.0</b></p>\n    {%endif%}\n</td>\n    \n    \n</tr>\n\n\n\n\n\n<tr>\n    \n    <td>\n   <!--<p class=\"m2\">Surcharge amount</p></br>-->\n   <!--<p class=\"m2\">Educational cess 4% of Rs.</p></br>-->\n   \n   \n   \n   \n   {%if doc.annual_taxable_amount>=5000000%}\n   \n   \n   \n   \n                    <p class=\"m2\">Surcharge</p>\n                    <p class=\"m2\">Education Cess</p></br>\n                    \n\n    {%endif%}  \n    \n    \n    {%if doc.annual_taxable_amount<5000000%}\n   \n   \n                    <p class=\"m2\">Education Cess</p>\n                    \n\n    {%endif%}  \n    \n    <p class=\"m2\">Less: Under relief section 89</p></br>\n   \n   \n   \n   \n   \n   \n    </td>\n    \n    <td>\n       \n        &nbsp;\n    </td>\n    \n    <td>\n       \n        &nbsp;\n    </td>\n    <td>\n        \n        \n         {%if doc.annual_taxable_amount>=5000000%}\n         \n         \n         \n         \n         {%set h4=(h3*10)/100%}\n         \n         {%if h4%}\n                <p class=\"m2\"><b>Rs.{{h4}}</b></p>\n            \n         \n         \n        \n         \n         {%endif%}\n         \n         \n         \n          {%set u1=h4+h3%}\n         \n        \n           \n         \n           \n           {%set u2= (u1 * 4) / 100%}\n           \n             <p class=\"m2\"><b>Rs.{{ u2 | round(2) }}</b></p>\n            \n            \n            \n    \n         \n        \n         \n         \n         \n         \n         {%endif%}\n         \n         \n         \n         {%if doc.annual_taxable_amount<5000000 %} \n         \n            {%if doc.annual_taxable_amount>500000%}\n         \n             {%if h3%}\n             \n             \n             \n             {%set u1=0+h3%}\n             \n            \n                \n                \n                 {%set u2= (u1 * 4) / 100%}\n                 \n                 <p class=\"m2\"><b>Rs.{{ u2 | round(2) }}</b></p>\n                 \n             {%endif%}\n             \n             \n             {%else%}\n             <p class=\"m2\"><b>Rs.0</b></p>\n             {%endif%}\n            \n         \n         \n         \n         {%endif%}\n       \n       \n        \n       {# \n        \n        {%if doc.annual_taxable_amount>=5000000%} \n        {% set tax_slab = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\", \"income_tax_slab\"], order_by=\"from_date desc\") %}\n                {% if tax_slab %}\n                    {% set employee_tax_slab = frappe.get_doc(\"Income Tax Slab\", tax_slab[0].income_tax_slab) %}\n                    {% for i in employee_tax_slab.other_taxes_and_charges %}\n                    \n                    {%if i.min_taxable_income>=5000000%}\n                    \n                <p class=\"m2\"><b>Rs.{{ (doc.annual_taxable_amount * i.percent / 100) | round(2) }}</b></p></br>\n                    \n                    {%endif%}\n                    \n                    {%endfor%}\n                    \n                {%endif%}\n        {%endif%}  \n        \n        \n         {%if doc.annual_taxable_amount<5000000%} \n        {% set tax_slab = frappe.get_list(\"Salary Structure Assignment\", filters={\"docstatus\": 1, \"employee\": doc.employee}, fields=[\"name\", \"employee\", \"income_tax_slab\"], order_by=\"from_date desc\") %}\n                {% if tax_slab %}\n                    {% set employee_tax_slab = frappe.get_doc(\"Income Tax Slab\", tax_slab[0].income_tax_slab) %}\n                    {% for i in employee_tax_slab.other_taxes_and_charges %}\n                    \n                    {%if i.min_taxable_income<5000000%}\n                    \n                <p class=\"m2\"><b>Rs.{{ (doc.annual_taxable_amount * i.percent / 100) | round(2) }}</b></p></br>\n                    \n                    {%endif%}\n                    \n                    {%endfor%}\n                    \n                {%endif%}\n        {%endif%}  \n        \n        \n        #}\n        \n       \n        \n    </td>\n    \n    \n</tr>\n\n\n\n<tr>\n    \n    <td>\n   <p><b class=\"m2\">14) Tax Payable including Education cess minus of relief under section 89</b></p>\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n<td>\n    {%if doc.annual_taxable_amount>=5000000%}\n    \n          <p class=\"m2\"><b>{{ (h3 + h4 + u2) | round(2) }}</b></p>\n\n    \n    {%endif%}\n    \n     {%if doc.annual_taxable_amount<5000000 %}\n     \n     {%if doc.annual_taxable_amount>500000%}\n     \n         {%if h3%}\n        \n              \n             <p class=\"m2\"><b>{{ (h3  + u2) | round(2) }}</b></p>\n             \n            {%endif%}\n            \n        {%else%}\n        <p class=\"m2\"><b>Rs.0</b></p>\n        \n        \n      {%endif%}\n    {%endif%}\n    \n</td>\n    \n    \n</tr>\n\n\n\n\n\n<tr>\n\n <td>\n   <p><b class=\"m2\">15) Tax Deducted at source u/s 192</b></p>\n   </br> \n   <p class=\"m2\">* TDS till last month</p>\n   <p class=\"m2\">* TDS of the month</p>\n   <p class=\"m2\">* TDS by Previous Employer</p></br>\n   <p class=\"m2\">Total Tax Deducted at source</p></br>\n   <p class=\"m2\">Tax Payable / Refundable (14 - 15(A))</p>\n   <p class=\"m2\">TDS per month for the next 11 months</p>\n</td>\n\n<td>\n   \n    <!--&nbsp;-->\n    \n    </br>    </br>\n   <p class=\"m2\">Rs.0</p>\n   \n   \n     \n{%if doc.current_month_income_tax > 0%}\n<p class=\"m2\">Rs.{{ doc.current_month_income_tax | round(2)}}</p>\n{%else%}\n<p class=\"m2\">Rs.0</p>\n{%endif%}\n<p class=\"m2\">Rs.0</p></br>\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n<td></br>    </br></br>    </br></br>    </br></br>\n{%if doc.current_month_income_tax > 0%}\n    <p class=\"m2\"><b>Rs.{{ doc.current_month_income_tax | round(2)}}</b></p>\n    {%else%}\n<p class=\"m2\">Rs.0</p>\n{%endif%}\n</td>\n    \n\n</tr>\n\n\n\n\n\n<tr>\n    \n    <td>\n        <p class=\"m2\">TDS for April</p>\n   </td>\n<td>\n   \n    &nbsp;\n</td>\n\n<td>\n   \n    &nbsp;\n</td>\n<td>\n    {%if doc.current_month_income_tax > 0%}\n    \n    <p class=\"m2\"><b>Rs.{{ doc.current_month_income_tax | round(2)}}</b></p>\n    {%else%}\n<p class=\"m2\">Rs.0</p>\n{%endif%}\n</td>\n    \n    \n</tr>\n\n\n\n  \n</table>\n\n</body>\n</html>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-05-28 16:42:04.539360",
  "module": "cn-indian-payroll",
  "name": "Income Tax",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".s2\n{\n    font-size: 16px;font-family: serif;\n    border:none;\n    background-color: #CCF8DB;\n}\n\n.f22\n{\n    font-size: 14px;\n    font-family: serif ;\n    color:#566573\n}\n\n\n\n.f11\n{\n    \n    font-size: 16px;\n    font-family: serif;\n    border:none;\n    color:#566573\n}\n\n\n.f1\n{\n    \n    font-size: 20px;\n    font-family: serif;\n}\n\n.f2\n{\n    \n    font-size: 16px;\n    font-family: serif;\n    border:none;\n    color:black;\n}\n\n.f4\n{\n    \n    font-size: 30px;\n    font-family: serif;\n    color: #15C650\n}\n\n.f6\n{\n    \n   \n    border:none;\n    font-size: 14px;\n    font-family: serif;\n}\n\n\n\n.f8 {\n  background-color: #dddddd;\n   border:none;\n   font-size: 14px;\n   font-family: serif;\n}\n\n\n  table, td {\n    border: 1px solid black;\n    border-collapse: collapse;\n  }\n  \n  .right-box {\n    float: right;\n    border: 1px solid black;\n    padding: 10px;\n    margin-left: 20px;\n  }\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "\n\n<p class=\"f1\"><b>Meril Life Sciences Private Limited</b></p>\n<p class=\"f2\">Survey no. 135/139, Muktanand Marg, Chala, Vapi, Gujarat Vapi Gujarat 396191 India</p>\n<hr>\n\n    <p class=\"f1\">Payslip for the month of {{ frappe.utils.format_date(doc.posting_date, \"MMMM, YYYY\") }}</p>\n    <p class=\"f2\"><b>Employee Pay Summary</b></p>\n    \n    \n\n    {% set employee = frappe.get_doc(\"Employee\", doc.employee) %}\n\n    \n    \n    \n<table class=\"f11\" style=\"width:100%\">\n  <tr>\n    <td class=\"f11\">\n    <p class=\"f11\" >Employee Name</p>\n    <p class=\"f11\"  >Designation</p>\n    <p class=\"f11\"  >Date of Joining</p>\n    <p class=\"f11\"  >Pay Period</p>\n    <p class=\"f11\" >Pay Date</p>\n    <p class=\"f11\" >PF A/C Number</p>\n    <p class=\"f11\" >UAN</p>\n    <p class=\"f11\">Bank Acc.No</p>\n    </td>\n    \n    <td class=\"f2\">\n        \n        <p class=\"f2\">{{ doc.employee_name }}</p>\n        <p class=\"f2\">{{ employee.designation }}</p>\n        <p class=\"f2\">{{ employee.date_of_joining }}</p>\n        <p class=\"f2\">{{ frappe.utils.format_date(doc.posting_date, \"MMMM, YYYY\") }}\n        <p class=\"f2\">{{ doc.posting_date }}\n        <p class=\"f2\">{{ employee.provident_fund_account }}\n        <p class=\"f2\">{{ employee.custom_uan }}\n        <p class=\"f2\">{{ employee.bank_ac_no }}\n        \n        \n        </td>\n        \n    <td class=\"f2\">\n        <!--<table style=\"width:100%\" border-color: #96D4D4;>-->\n        <table style=\"width:100%; border-color: #CCD1D1;\">\n\n              <tr>\n                <td style=\"border-color: #CCD1D1\">\n                    <center><p class=\"f22\">Employee Netpay</p></center>\n                   <b> <center><p class=\"f4\">Rs.{{doc.net_pay}}</p></center></b>\n                    <center><p class=\"f22\"> Paid Days : {{doc.payment_days}} | LOP Days : 0</p></center>\n                    \n                </td>\n                \n              </tr>\n            </table>\n        \n        \n        \n    </td>\n    \n  </tr>\n  \n  </table>\n  \n  <hr>\n  \n <div style=\"width: 100%; display: flex; justify-content: space-between;\">\n  <div style=\"width: 48%;\">\n    <table style=\"width:100%; border: none\">\n      \n      <tr>\n        <td  class=\"f8\"><b>Earnings</b></td>\n        <td  class=\"f8\"><b>Amount</b></td>\n        <td  class=\"f8\"><b>YTD</b></td>\n      </tr>\n       {%- for row in doc.earnings -%}\n    <tr>\n        \n        {%set doc1 = frappe.get_doc('Salary Component', row.salary_component)%}\n        \n        {%if doc1.custom_is_accrual==0 and doc1.custom_perquisite==0%}\n        \n              <td class=\"f6\">{{ row.salary_component }}</td>\n              <td class=\"f6\">Rs.{{row.amount}}</td>\n             <td class=\"f6\">Rs.{{row.amount}}</td>\n        {%endif%}\n    </tr>\n    {%- endfor -%}\n    \n   \n      \n    </table>\n  </div>\n\n  <div style=\"width: 48%; margin-left: 4%;\">\n    <table style=\"width:100%; border:none\">\n      \n       <tr>\n        <td class=\"f8\"><b>Deductions</b></td>\n        <td  class=\"f8\"><b>Amount</b></td>\n        <td  class=\"f8\"><b>YTD</b></td>\n      </tr>\n      \n      \n     {%- for row in doc.deductions -%}\n    <tr>\n      <td class=\"f6\">{{ row.salary_component }}</td>\n      <td class=\"f6\">Rs.{{row.amount}}</td>\n     <td class=\"f6\">Rs.{{row.amount}}</td>\n    </tr>\n    {%- endfor -%}\n    \n    \n    \n    \n    </table>\n  </div>\n</div>\n<hr>\n<div style=\"width: 100%; display: flex; justify-content: space-between;\">\n  <div style=\"width: 48%;\">\n    <table style=\"width:100%; border: none\">\n      \n      <tr>\n        <td  class=\"f6\"><b>Gross Earnings</b></td>\n        <td  class=\"f6\"><b>Rs.{{doc.custom_statutory_grosspay}}</b></td>\n        <td  class=\"f6\">&nbsp;&nbsp;&nbsp;&nbsp;</td>\n        \n      </tr>\n       \n      \n      \n    </table>\n  </div>\n\n  <div style=\"width: 48%; margin-left: 4%;\">\n    <table style=\"width:100%; border:none\">\n      \n       <tr>\n        <td  class=\"f6\"><b>Total Deductions</b></td>\n        <td class=\"f6\"><b>Rs.{{doc.total_deduction}}</b></td>\n        <td  class=\"f6\">&nbsp;&nbsp;&nbsp;&nbsp;</td>\n        \n      </tr>\n    </table>\n  </div>\n</div>\n\n<table style=\"width:100%\" class=\"s2\">\n  <tr class=\"s2\">\n    <td class=\"s2\">Total Net Payable <b>Rs. {{doc.rounded_total}}</b>-{{doc.total_in_words}}</td>\n \n    \n  </tr>\n</table>\n\n<p class=\"f6\" style=\"color:#566573\">**Total Net Payable = Gross Earnings - Total Deductions</p>\n\n\n\n\n  \n \n\n\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-05-28 16:38:03.511896",
  "module": "cn-indian-payroll",
  "name": "Payslip",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]